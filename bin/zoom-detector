#!/usr/bin/env ruby --yjit
# frozen_string_literal: true

ENV["BUNDLE_GEMFILE"] ||= File.expand_path("../Gemfile", __dir__)
$LOAD_PATH.unshift File.expand_path(File.join(File.dirname(__FILE__), "..", "lib"))

require "bundler/setup"
require "dotenv/load"
require "optparse"
require "legacy_zoom_detection"

options = { poll_seconds: 10 }
opts = OptionParser.new
opts.on("-s SECONDS", "--seconds SECONDS", "Time in seconds to check the process table") do |s|
  options[:poll_seconds] = s
end

LegacyZoomDetection.new(options).run
